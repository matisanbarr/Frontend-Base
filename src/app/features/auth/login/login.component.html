<div class="login-bg d-flex align-items-center justify-content-center">
  <div class="login-card card border-0 shadow rounded-4 p-3">
    <div class="text-center mb-3">
      <i class="bi bi-person-circle login-avatar"></i>
    </div>
    <form (ngSubmit)="onLogin()" #loginForm="ngForm" novalidate>
      <div class="mb-3 d-flex align-items-center gap-2 same-width-group">
        <div class="position-relative flex-grow-1">
          <span class="login-icon"><i class="bi bi-person"></i></span>
          <input
            type="text"
            id="nombreUsuario"
            name="nombreUsuario"
            class="form-control ps-5"
            [(ngModel)]="loginData.nombreUsuario"
            required
            placeholder="Usuario o Correo"
            [disabled]="isLoading"
            [class.is-invalid]="nombreUsuario.invalid && nombreUsuario.touched"
            #nombreUsuario="ngModel"
          />
        </div>
        <button
          type="button"
          class="btn btn-link login-eye-out invisible"
          tabindex="-1"
          aria-hidden="true"
          disabled
          style="pointer-events: none"
        >
          <i class="bi bi-eye" style="font-size: 1.2rem"></i>
        </button>
      </div>
      <div class="mb-3 d-flex align-items-center gap-2">
        <div class="position-relative flex-grow-1">
          <span class="login-icon"><i class="bi bi-lock"></i></span>
          <input
            [type]="showPassword ? 'text' : 'password'"
            id="password"
            name="password"
            class="form-control ps-5"
            [(ngModel)]="loginData.password"
            required
            placeholder="Contraseña"
            [disabled]="isLoading"
            [class.is-invalid]="password.invalid && password.touched"
            #password="ngModel"
          />
        </div>
        <button
          type="button"
          class="btn btn-link login-eye-out"
          (click)="togglePassword()"
          [disabled]="isLoading"
          tabindex="-1"
        >
          <i [class]="showPassword ? 'bi bi-eye-slash' : 'bi bi-eye'" style="font-size: 1.2rem"></i>
        </button>
      </div>
      <div class="invalid-feedback" *ngIf="password.invalid && password.touched">
        <!-- Sin icono -->
      </div>
      <div *ngIf="errorMessage" class="alert alert-danger d-flex align-items-center py-2 small">
        <i class="bi bi-exclamation-triangle-fill me-2"></i>
        <div>{{ errorMessage }}</div>
      </div>
      <div *ngIf="successMessage" class="alert alert-success d-flex align-items-center py-2 small">
        <i class="bi bi-check-circle-fill me-2"></i>
        <div>{{ successMessage }}</div>
      </div>
      <div class="mb-3 d-flex align-items-center gap-2 same-width-group">
        <div class="flex-grow-1">
          <button
            type="submit"
            class="btn btn-primary w-100 d-flex align-items-center justify-content-center gap-2 text-center"
            [disabled]="isLoading || !loginForm.valid"
          >
            <span *ngIf="isLoading" class="spinner-border spinner-border-sm"></span>
            <span *ngIf="!isLoading">Iniciar Sesión</span>
            <i *ngIf="!isLoading" class="bi bi-box-arrow-in-right"></i>
          </button>
        </div>
        <button
          type="button"
          class="btn btn-link login-eye-out invisible"
          tabindex="-1"
          aria-hidden="true"
          disabled
          style="pointer-events: none"
        >
          <i class="bi bi-eye" style="font-size: 1.2rem"></i>
        </button>
      </div>
    </form>
  </div>
</div>
